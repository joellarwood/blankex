<!DOCTYPE html>
<html>

<head>
  <title>My Experiment</title>
  <script src="jspsych-6.1.0/jspsych.js"></script> <!-- add plugins as needed -->
  <script src="jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-survey-likert.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-html-slider-response.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-audio-keyboard-response.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-survey-multi-choice.js"></script>
  <link href="jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css">
  </link>
</head>

<body></body>
<script>
  /* create timeline */
  var timeline = [];

  /* assign subject ID */
  var subject_id = jsPsych.randomization.randomID(15);
  jsPsych.data.addProperties(
    {
      subject: subject_id
    }
);

  /* variable for prolifc username */

  /* define audio for preload */

  var audio = [
    /* relative path to audio files */
  ]

  var images = [
    /* relative path to image files */
  ]


/* set up study to run */
/* If using prolific/SONA make sure redirect link is added into endscreen message. */

jsPsych.init({
  timeline: timeline,
  use_webaudio = false,
  preload_images: images,
  preload_audio: audio,
  on_finish: function() {
    endExperiment( jsPsych.data.get().csv(), function() { document.write('<div id="endscreen" class="endscreen" style="width:1000px"><div class="endscreen" style="text-align:center; border:0px solid; padding:10px; font-size:120%; width:800px; float:right"><p><br><br><br>All done!<br><br>Your completion code is <span id="turkcode" style="font-weight:bold;font-size:130%">' + turkcode + '</span>. To receive payment for the HIT, return to the Amazon Mechanical Turk page and enter this code. Please The experiment is finished! Feel free to close the page</p></div></div>') })
  }
});
}

/* save and finish */
function endExperiment(dataset,callback) {
// $.post('submit',{"content": dataset}); // uncomment to post data
console.log(dataset) // comment out to avoid console log
setTimeout(callback,1000)
}

  </script>
</html>
